{"code":"var __defProp=Object.defineProperty;var __name=(target,value)=>__defProp(target,\"name\",{value,configurable:true});const LOCAL_HOSTS=new Set([\"localhost\",\"127.0.0.1\",\"::1\"]);function isIpAddress(host){if(/^\\d{1,3}(\\.\\d{1,3}){3}$/.test(host))return true;return host.includes(\":\")}__name(isIpAddress,\"isIpAddress\");function isSecureRequest(req){if(req.protocol===\"https\")return true;const forwardedProto=req.headers[\"x-forwarded-proto\"];if(!forwardedProto)return false;const protoList=Array.isArray(forwardedProto)?forwardedProto:forwardedProto.split(\",\");return protoList.some(proto=>proto.trim().toLowerCase()===\"https\")}__name(isSecureRequest,\"isSecureRequest\");function getSessionCookieOptions(req){const secure=isSecureRequest(req);return{httpOnly:true,path:\"/\",sameSite:secure?\"none\":\"lax\",secure}}__name(getSessionCookieOptions,\"getSessionCookieOptions\");export{getSessionCookieOptions};\n","warnings":[],"map":{"version":3,"mappings":"kHAEA,MAAM,YAAc,IAAI,IAAI,CAAC,YAAa,YAAa,KAAK,CAAC,EAE7D,SAAS,YAAY,KAAc,CAEjC,GAAI,0BAA0B,KAAK,IAAI,EAAG,MAAO,MACjD,OAAO,KAAK,SAAS,GAAG,CAC1B,CAJS,kCAMT,SAAS,gBAAgB,IAAc,CACrC,GAAI,IAAI,WAAa,QAAS,MAAO,MAErC,MAAM,eAAiB,IAAI,QAAQ,mBAAmB,EACtD,GAAI,CAAC,eAAgB,MAAO,OAE5B,MAAM,UAAY,MAAM,QAAQ,cAAc,EAC1C,eACA,eAAe,MAAM,GAAG,EAE5B,OAAO,UAAU,KAAK,OAAS,MAAM,KAAK,EAAE,YAAY,IAAM,OAAO,CACvE,CAXS,0CAaF,SAAS,wBACd,IAC6E,CAgB7E,MAAM,OAAS,gBAAgB,GAAG,EAElC,MAAO,CACL,SAAU,KACV,KAAM,IACN,SAAU,OAAS,OAAS,MAC5B,MACF,CACF,CA1BgB","names":[],"ignoreList":[],"sources":["/home/ubuntu/openclaw-concierge/server/_core/cookies.ts"],"sourcesContent":[null]}}